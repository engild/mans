## top命令
说明：查看进程状态，资源使用情况等

`top` 用于显示 `Linux` 状态，资源使用情况等，是一个动态、交互式的工具。

### 用法
```
top -hv|-bcHiOSs -d secs -n max -u|U user -p pid -o fld -w [cols]

'-' 和空格是可选的，例如 -n 3 和 n3 效果一样。
```

| 选项 | 说明
| --- | ---
| -h,-v             | 显示版本和用法
| -n                | 指定top刷新N次后停止，例如：top -n3
| -d                | 设置top刷新频率，默认为3秒。写法：-d0.5
| -p                | 指定一个或多个 `pid`。写法：-pN1 -pN2 ...  or  -pN1,N2,N3 ...
| -o fieldname      | 指定排序的字段。在字段前加 - 可以使从小到大排序，加 + 可以使字段从大到小排序    
| -b                | 以批处理模式启动 `top`，这对于将输出从top发送到其他程序或文件很有用。在此模式下，`top` 将不接受输入并运行，直到您使用 `-n` 命令行选项设置的迭代限制或直到终止为止。
| -c                | 切换 `COMMAND` 列显示为命令行
| -i                | 切换为不显示任何闲置或者僵死进程


### 显示结果

参数说明：

PR    优先级

NI    nice值。负值表示高优先级，正值表示低优先级

VIRT   进程使用的虚拟内存总量。VIRT=SWAP+RES

RES   进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA

SHR   共享内存大小，单位kb

S    进程状态(D=不可中断的睡眠状态,R=运行,S=睡眠,T=跟踪/停止,Z=僵尸进程)

### 交互模式快捷键
| 快捷键 | 说明
| --- | ---
| 0         | 资源使用情况为0的结果以空白的方式显示
| 1         | 展开CPU
| P         | 根据CPU使用百分比大小进行排序
| M         | 根据驻留内存大小进行排序
| k         | 根据PID杀掉一个进程
| d or s    | 设置刷新频率。
| n         | 限制显示最大任务数
| c         | 切换 `COMMAND` 列显示为命令行或程序名
| i         | 切换不显示任何闲置或者僵死进程


### 示例
```sh
# top结果输出到文件
top bn1 > top.out

# 将CPU使用率从高到低排序，刷新间隔为1秒
top -o %CPU -d1
```